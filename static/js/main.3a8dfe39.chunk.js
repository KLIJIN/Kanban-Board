(this.webpackJsonpvktraine=this.webpackJsonpvktraine||[]).push([[0],{23:function(e,n,t){},32:function(e,n,t){"use strict";t.r(n);var c=t(2),a=t(0),r=t(6),d=t.n(r),o=(t(23),t(15)),s=t(3),i=t(5),l=t(7),u=function(e){var n=e.children,t=e.cardIndex,a=e.columnIndex;return Object(c.jsx)(l.b,{index:t,draggableId:"".concat(a,"-").concat(t),children:function(e,t){return Object(c.jsx)("div",Object(s.a)(Object(s.a)(Object(s.a)({className:"Card ".concat(t.isDragging&&"dragging"),ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:n}))}})},j=t(14),b=function(e){var n=e.children,t=e.onAdd;return Object(c.jsx)("button",{className:"button",onClick:t,children:n})},m=t.p+"static/media/add.0bbf1711.svg",O=t.p+"static/media/clear.4ac10f93.svg",p=void 0,f=function(e){var n=e.columnIndex,t=e.isEmptyPanel,r=e.addColumn,d=e.onAddCards,o=Object(a.useState)(!1),s=Object(j.a)(o,2),i=s[0],l=s[1],u=Object(a.useState)(""),f=Object(j.a)(u,2),x=f[0],v=f[1],C=Object(a.useRef)();Object(a.useEffect)((function(){C.current&&C.current.focus()}),[i]);return Object(c.jsx)("section",{children:i?Object(c.jsx)("div",{className:"add-form",children:Object(c.jsxs)("div",{className:"add-form__input",children:[Object(c.jsx)("textarea",{ref:C,rows:"3",onChange:function(e){return v(e.target.value)},value:x,placeholder:t?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438"}),Object(c.jsxs)("div",{className:"add-form__button",children:[Object(c.jsx)(b,{onAdd:function(){t?d(n,x):r(x),v(""),l(!1)},children:t?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443":" \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443"}),Object(c.jsx)("img",{src:O,alt:"clear svg icon",className:"add-form__button-clear",onClick:l.bind(p,!1)})]})]})}):Object(c.jsx)("div",{className:"panel__buttom",onClick:l.bind(p,!0),children:Object(c.jsxs)("div",{className:"panel__buttom-add-btn",children:[Object(c.jsx)("img",{src:m,alt:"add svg icon"}),Object(c.jsxs)("span",{children:["   ",t?" \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443":" \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0443","  "]})]})})})},x=function(e){var n=e.columnIndex,t=e.title,a=e.cards,r=e.addColumn,d=e.AddCards,o=e.removeColumn;return Object(c.jsxs)("div",{className:"panel".concat(a?"":" panel__empty"),children:[Object(c.jsxs)("div",{className:"panel__title",children:[Object(c.jsxs)("b",{children:[" ",t," "]}),a&&Object(c.jsx)("div",{className:"column__remove",onClick:function(){return o(n)},children:Object(c.jsx)("img",{src:O,alt:"Clear svg icon"})})]}),Object(c.jsx)(l.c,{droppableId:"".concat(n),children:function(e){return Object(c.jsxs)("div",Object(s.a)(Object(s.a)({className:"panel__items"},e.droppableProps),{},{ref:e.innerRef,children:[a&&a.map((function(e,t){return Object(c.jsx)(u,{cardIndex:t,columnIndex:n,children:e},t)})),e.placeholder]}))}},n),Object(c.jsx)(f,{isEmptyPanel:a,addColumn:r,onAddCards:d,columnIndex:n})]})};var v=Object(i.b)((function(e){return console.log("App__Panels_mapStateToProps",e),{Columns:e.Column}}),(function(e){return{addColumn:function(n){e(function(e){return{type:"COLUMNS:ADD",payload:e}}(n))},removeColumn:function(n){e(function(e){return{type:"COLUMNS:REMOVE",payload:e}}(n))},addCard:function(n,t){e(function(e,n){return{type:"CARDS:ADD",payload:{columnIndex:e,text:n}}}(n,t))},reorderCardsDel:function(n){var t,c=n.source,a=n.destination;e({type:"CARDS:MOVE",payload:{source:(t={source:c,destination:a}).source,destination:t.destination}})}}}))((function(e){var n=e.Columns,t=e.addColumn,a=e.addCard,r=e.removeColumn,d=e.reorderCardsDel;return Object(c.jsx)(l.a,{onDragEnd:function(e){var n=e.source,t=e.destination;console.log("from \u043e\u0442\u043a\u0443\u0434\u0430\u0432\u0430",n),console.log("to \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044c\u0435",t),t&&(t.index===n.index&&t.droppableId===n.droppableId||d({source:n,destination:t}))},children:Object(c.jsxs)("section",{className:"panels__container",children:[n.map((function(e,n){return Object(c.jsx)(x,Object(s.a)(Object(s.a)({},e),{},{columnIndex:n,addColumn:t,AddCards:a,removeColumn:r}),n)})),Object(c.jsx)(x,{addColumn:t,AddCards:a,removeColumn:r})]})})}));var C=function(e){return Object(o.a)(e),Object(c.jsx)("div",{className:"app",children:Object(c.jsx)(v,{})})},g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,33)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,r=n.getLCP,d=n.getTTFB;t(e),c(e),a(e),r(e),d(e)}))},h=t(4),_=t(9),N=[{title:"\u041f\u043b\u0430\u043d \u043d\u0430 \u043c\u0435\u0441\u044f\u0446",cards:["\u0414\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u043e\u043c","\u041d\u0430\u0439\u0442\u0438 \u0440\u0430\u0431\u043e\u0442\u0443","\u0412\u044b\u0443\u0447\u0438\u0442\u044c \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439","\u0421\u0435\u0441\u0442\u044c \u043d\u0430 \u0448\u043f\u0430\u0433\u0430\u0442"]},{title:"\u041f\u043b\u0430\u043d \u043d\u0430 \u0434\u0435\u043d\u044c",cards:["\u0412\u044b\u0443\u0447\u0438\u0442\u044c \u0440\u0435\u0430\u043a\u0442","\u0417\u0430\u044f\u043d\u044f\u0442\u044c\u0441\u044f \u0441\u043f\u043e\u0440\u0442\u043e\u043c","\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0448\u043a\u0430\u0444"]}],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0,t="";switch(n.type){case"CARDS:ADD":return e.map((function(e,t){return n.payload.columnIndex===t?Object(s.a)(Object(s.a)({},e),{},{cards:[].concat(Object(_.a)(e.cards),[n.payload.text])}):e}));case"COLUMNS:ADD":return[].concat(Object(_.a)(e),[{title:n.payload,cards:[]}]);case"COLUMNS:REMOVE":return e.filter((function(e,t){return n.payload!==t}));case"CARDS:MOVE":return e.map((function(c,a){if(String(a)===n.payload.source.droppableId){var r=Object(_.a)(c.cards);t=r.splice(n.payload.source.index,1)[0],c.cards=Object(_.a)(r);var d=Number(n.payload.destination.droppableId);return e[d].cards.splice(n.payload.destination.index,0,t),c}return c}));default:return e}},D=Object(h.c)({Column:y}),I=Object(h.e)(D,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());console.log(I),console.log("Subscribe777",I.getState());var E,S=I;E=C,d.a.render(Object(c.jsx)(i.a,{store:S,children:Object(c.jsx)(E,{})}),document.getElementById("root")),g()}},[[32,1,2]]]);
//# sourceMappingURL=main.3a8dfe39.chunk.js.map